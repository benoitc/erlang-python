{erl_opts, [debug_info]}.

{xref_checks, [
    undefined_function_calls,
    undefined_functions,
    locals_not_used,
    deprecated_function_calls,
    deprecated_functions
]}.

{deps, []}.

{pre_hooks, [
    {"(linux|darwin|freebsd|netbsd|openbsd)", compile, "make -C c_src"},
    {"win32", compile, "nmake /F c_src\\Makefile.win"}
]}.

{post_hooks, [
    {"(linux|darwin|freebsd|netbsd|openbsd)", clean, "make -C c_src clean"}
]}.

{shell, [
    {apps, [erlang_python]}
]}.

{project_plugins, [rebar3_ex_doc]}.

{ex_doc, [
    {source_url, <<"https://github.com/benoitc/erlang-python">>},
    {main, <<"readme">>},
    {extras, [
        <<"README.md">>,
        <<"docs/getting-started.md">>,
        <<"docs/ai-integration.md">>,
        <<"docs/type-conversion.md">>,
        <<"docs/streaming.md">>,
        <<"docs/memory.md">>,
        <<"docs/scalability.md">>,
        <<"docs/testing-free-threading.md">>
    ]},
    {groups_for_extras, [
        {<<"Guides">>, [
            <<"docs/getting-started.md">>,
            <<"docs/ai-integration.md">>,
            <<"docs/type-conversion.md">>,
            <<"docs/streaming.md">>,
            <<"docs/memory.md">>
        ]},
        {<<"Advanced">>, [
            <<"docs/scalability.md">>,
            <<"docs/testing-free-threading.md">>
        ]}
    ]}
]}.
